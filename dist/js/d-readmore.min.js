/*!
 * DReadMore - jQuery plugin
 *
 * Author: DSekon
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://DSekon.ru/DReadMore
 *
 * Version: 2.0.0
 *
 */
!function(){"use strict";var e=[,function(e,t,r){r.r(t),r.d(t,{default:function(){return l}});var n=r(2);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(){function e(){var t,r,a=this;o(this,e),i(this,"togglerEventListener",(function(e){var t=a,r=t.params,n=r.el,o=r.toggler,i=!t.isExpanded;t.params.beforeToggle&&"function"==typeof t.params.beforeToggle&&t.params.beforeToggle(n,t.isExpanded),t.isExpanded=i,o.setAttribute("aria-expanded",i),n.classList.toggle("active"),o.innerHTML=i?t.params.lessText:t.params.moreText,n.style.height=i?t.heightExpanded:t.heightDefault,t.params.afterToggle&&"function"==typeof t.params.afterToggle&&t.params.afterToggle(n,t.isExpanded)}));for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];if(1===s.length&&s[0].constructor&&"Object"===Object.prototype.toString.call(s[0]).slice(8,-1)?r=s[0]:(t=s[0],r=s[1]),r||(r={}),t&&!r.el&&(r.el=t),r.el||(r.el=".d-readmore"),r.el&&(0,n.selectorAll)(r.el).length>1){var u=[];return(0,n.selectorAll)(r.el).forEach((function(t){var n=Object.assign({},r,{el:t});u.push(new e(n))})),u}"string"==typeof r.el&&(r.el=document.querySelector(r.el));var d=this;return d.params=Object.assign({initialExpand:!1,isInitialExpandWhenUpdate:!1,moreText:"Show more",lessText:"Close",toggler:null,beforeToggle:function(){},afterToggle:function(){}},r),d.init(),d}var t,r,l;return t=e,(r=[{key:"getToggler",value:function(){var e,t=this,r=t.params.el;!t.params.toggler&&r.nextElementSibling.hasAttribute("data-drm-toggler")&&(t.params.toggler=r.nextElementSibling),(e=t.params.toggler).setAttribute("aria-expanded",t.isExpanded),e.addEventListener("click",t.togglerEventListener)}},{key:"update",value:function(){var e=this;if(e&&!e.destroyed){var t=e.params,r=t.el,o=t.toggler,a=parseFloat((0,n.css)(r).minHeight),i=parseFloat((0,n.css)(r.childNodes[0]).height),l=parseFloat((0,n.css)(r).fontSize),s=(0,n.css)(r).lineHeight;s="normal"!==s?parseFloat(s):1.25*l,a&&i>a*s?(e=Object.assign(e,{heightDefault:"".concat(a*s/l,"em"),heightExpanded:"".concat(i/l,"em")}),r.style.height=e.params.isInitialExpandWhenUpdate||e.isExpanded?e.heightExpanded:e.heightDefault,o.classList.contains("d-readmore--disabled")&&o.classList.remove("d-readmore--disabled")):(r.style.height=null,o.classList.add("d-readmore--disabled"))}}},{key:"init",value:function(){var e=this,t=e.params.el;return e.initialized||(t.innerHTML="<div>".concat(t.innerHTML.trim(),"</div>"),e.isExpanded=e.params.initialExpand,e.getToggler(),e.update(),e.initialized=!0),e}},{key:"destroy",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this;if(void 0===t.params||t.destroyed)return null;var r=t.params,o=r.el,a=r.toggler;return t.initialized=!1,o.removeAttribute("style"),o.innerHTML=o.childNodes[0].innerHTML,a.removeEventListener("click",t.togglerEventListener),e&&(0,n.deleteProps)(t),t.destroyed=!0,null}}])&&a(t.prototype,r),l&&a(t,l),Object.defineProperty(t,"prototype",{writable:!1}),e}();window.DReadMore=l},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return window.getComputedStyle(e,null)}function a(e){var t=e;Object.keys(t).forEach((function(e){try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}function i(e){return"object"===n(e)?e:Array.prototype.slice.call(document.querySelectorAll(e))}r.r(t),r.d(t,{css:function(){return o},deleteProps:function(){return a},selectorAll:function(){return i}})}],t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};!function(){r.r(n);r(1)}()}();